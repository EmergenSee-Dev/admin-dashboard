(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[897],{8041:(e,s,t)=>{Promise.resolve().then(t.bind(t,7488))},7488:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var l=t(5155),a=t(4919),i=t(143),r=t(8931),n=t(2651),c=t(6046),d=t(2115);let m=()=>{var e;let s=(0,c.useRouter)(),[t,a]=(0,d.useState)(null),m=(0,c.useSearchParams)().get("id"),[o,x]=(0,d.useState)(!1),h=async()=>{a((await n.A.get("https://backend-api-mxr6.onrender.com/api/emergensee/single/".concat(m))).data.data)};return(0,d.useEffect)(()=>{h()},[]),(0,l.jsx)(l.Fragment,{children:t&&(0,l.jsxs)("section",{className:"bg-white p-4 rounded-xl",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("img",{src:"/images/arrow-back.svg",alt:"",className:"w-6 h-6 cursor-pointer",onClick:()=>s.back()}),(0,l.jsxs)("p",{className:"text-xs text-[#879297] my-auto",children:["Uploaded ",(0,r.Y)(new Date(t.createdAt))]})]}),(0,l.jsx)("img",{src:t.image,className:"my-4 w-full rounded-md h-96 object-cover",alt:""}),(0,l.jsxs)("div",{className:"lg:flex justify-between border-y border-[#CBCBCBC4] py-3",children:[(0,l.jsx)("div",{className:"flex sm:mb-3",children:(0,l.jsxs)("div",{className:"p-2 my-auto",children:[(0,l.jsx)("p",{className:"text-[#0E4BF1] font-bold",children:null==t?void 0:null===(e=t.author)||void 0===e?void 0:e.name}),(0,l.jsx)("p",{className:"text-sm capitalize",children:t.name})]})}),(0,l.jsxs)("div",{className:"lg:flex justify-between lg:w-[60%]",children:[(0,l.jsxs)("div",{className:"lg:my-auto my-2",children:[(0,l.jsx)("p",{className:"text-sm",children:"Type of Incident"}),(0,l.jsxs)("p",{className:"font-bold capitalize",children:[t.type," "]})]}),(()=>{switch(t.type){case"fall":return(0,l.jsxs)("div",{className:"lg:my-auto my-2",children:[(0,l.jsx)("p",{className:"text-sm",children:"Fall Height"}),(0,l.jsxs)("p",{className:"font-bold",children:[t.height," "]})]});case"assault":case"burn":return(0,l.jsxs)("div",{className:"lg:my-auto my-2",children:[(0,l.jsx)("p",{className:"text-sm",children:"Body part affected"}),(0,l.jsxs)("p",{className:"font-bold",children:[t.body_part_injured," "]})]});case"motor vehicle":return(0,l.jsxs)("div",{className:"lg:my-auto my-2",children:[(0,l.jsx)("p",{className:"text-sm",children:"Fatalities"}),(0,l.jsxs)("p",{className:"font-bold",children:[t.number_of_vehicles," "]})]});default:return(0,l.jsx)("div",{})}})(),(0,l.jsxs)("div",{className:"lg:my-auto my-2",children:[(0,l.jsx)("p",{className:"text-sm",children:"Number of People Injured"}),(0,l.jsxs)("p",{className:"font-bold",children:[t.number_of_injured," "]})]}),(0,l.jsxs)("div",{className:"lg:my-auto my-2",children:[(0,l.jsx)("p",{className:"text-sm",children:"Time of Incident"}),(0,l.jsxs)("p",{className:"font-bold",children:[(0,r.f)(t.time_of_incident)," "]})]})]})]}),(0,l.jsxs)("div",{className:"lg:flex justify-between mt-4",children:[(0,l.jsxs)("div",{className:"lg:w-[71%]",children:[(0,l.jsx)("p",{className:"text-[#9C9C9F] uppercase mb-3",children:"Incident description"}),(0,l.jsx)("div",{className:"p-4 rounded-xl bg-[#D4E3E84F]",children:(0,l.jsxs)("p",{children:[null==t?void 0:t.description," "]})})]}),(0,l.jsxs)("div",{className:"lg:w-[28%]",children:[(0,l.jsx)("p",{className:"text-[#9C9C9F] uppercase mb-3",children:"Map (Location of incident)"}),(0,l.jsxs)("div",{className:"p-4 rounded-xl bg-[#D4E3E84F]",children:[(0,l.jsxs)("div",{className:"",children:[(0,l.jsx)("div",{className:"w-[250px] h-[50px]",children:(0,l.jsx)(i.A,{height:"100px",address:null==t?void 0:t.address})}),(0,l.jsx)("button",{onClick:()=>x(!0),className:"bg-[#1AA029] rounded-full text-white px-3 py-2 text-sm my-auto",children:"Click to view"})]}),(0,l.jsx)("p",{className:"mt-1",children:null==t?void 0:t.address})]})]}),o&&(0,l.jsxs)("div",{className:"fixed top-16 left-0 right-0 w-full h-screen z-40",children:[(0,l.jsx)(i.A,{height:"600px",address:null==t?void 0:t.address}),(0,l.jsx)("div",{className:"absolute cursor-pointer top-3 bg-red-500 rounded-full shadow-md z-50 right-6",onClick:()=>x(!1),children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"#ffffff",className:"bi bi-x",viewBox:"0 0 16 16",children:(0,l.jsx)("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"})})})]})]})]})})},o=()=>(0,l.jsx)(a.default,{children:(0,l.jsx)(d.Suspense,{fallback:(0,l.jsx)("p",{className:"text-gray-600 text-center py-4",children:"Loading..."}),children:(0,l.jsx)(m,{})})})},4919:(e,s,t)=>{"use strict";t.d(s,{default:()=>x});var l=t(5155),a=t(2115),i=t(8173),r=t.n(i),n=t(6046);let c=()=>{let e=e=>{if((0,n.usePathname)()===e)return!0};return(0,l.jsxs)("div",{className:"h-screen",children:[(0,l.jsx)(r(),{href:"/dashboard",children:(0,l.jsx)("div",{className:"my-6 ".concat(e("/dashboard")&&"bg-[#FFCC00] p-3 rounded-xl"),children:(0,l.jsx)("p",{className:"uppercase text-[#3D5059] font-bold",children:"Dashboard"})})}),[{title:"users",link:"/users"},{title:"emergensees",link:"/emergensees"},{title:"logout",link:"/"}].map(s=>(0,l.jsx)(r(),{href:s.link,children:(0,l.jsxs)("div",{className:"flex my-5 px-3 ".concat(e(s.link)?"bg-[#FFCC00] p-3 rounded-xl":""),children:[(0,l.jsx)("img",{className:"mr-3 w-4 h-4 my-auto",src:"/images/icons/".concat(s.title,".svg"),alt:""}),(0,l.jsx)("p",{className:"capitalize font-medium",children:s.title})]})},s.title))]})},d=e=>{let{open:s,handleClose:t}=e;return s&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{onClick:()=>t(),className:"bg-[#2B2B2B57] cursor-pointer fixed top-16 backdrop-blur-sm w-screen h-screen"}),(0,l.jsxs)("div",{className:"absolute lg:w-[30%] w-[90%] top-20 right-4 bg-white p-4 rounded-xl",children:[(0,l.jsxs)("div",{className:"flex  justify-between mb-1",children:[(0,l.jsx)("p",{className:"text-[#9FA4A7] text-sm",children:"Notifications"}),(0,l.jsx)("p",{className:"text-[#3688FF] text-sm",children:"See all"})]}),[1,2,3].map(e=>(0,l.jsx)("div",{className:"py-3 border-b border-[#ABB3B7]",children:(0,l.jsxs)("div",{className:"bg-[#D7D7D833] rounded-md p-2 flex",children:[(0,l.jsx)("img",{className:"my-auto",src:"/images/scheduler.png",alt:""}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("p",{className:"text-[#0E4BF1] font-medium text-sm",children:"New Emergency"}),(0,l.jsx)("p",{className:"text-xs",children:"Burn incident at Lekki"}),(0,l.jsx)("p",{className:"text-xs",children:"Tuesday, June 14, 2024 18:16:1"})]})]})}))]})]})};var m=t(4928),o=t(8400);let x=e=>{let{children:s}=e,[t,i]=(0,a.useState)(!1),r=(0,n.useRouter)(),[x,h]=(0,a.useState)(!1),[u,p]=(0,m.useAtom)(o.S);return(0,a.useEffect)(()=>{let e=setTimeout(()=>{u||r.replace("/")},1e3);return()=>clearTimeout(e)},[u,r]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("header",{className:"p-3 flex items-center fixed top-0 w-full bg-white shadow-md z-50",children:[(0,l.jsx)("img",{src:"/images/emergensee4.png",className:"h-10 object-cover",alt:"Logo"}),(0,l.jsxs)("div",{className:"ml-auto flex items-center gap-4",children:[(0,l.jsx)("img",{className:"w-10 h-10 cursor-pointer md:hidden",onClick:()=>h(!x),src:"/images/menu.svg",alt:"Menu"}),(0,l.jsx)("img",{className:"w-10 h-10 cursor-pointer",onClick:()=>i(!t),src:"/images/notification.png",alt:"Notifications"})]})]}),(0,l.jsxs)("div",{className:"flex flex-col md:flex-row p-3 mt-16",children:[(0,l.jsx)("div",{className:"fixed p-4 left-0 lg:w-[23%] bg-white shadow-lg transform transition-transform duration-300 ease-in-out\n            ".concat(x?"translate-x-0":"-translate-x-full"," md:translate-x-0 md:static"),children:(0,l.jsx)(c,{})}),(0,l.jsx)("div",{className:"w-full lg:px-3",children:s})]}),(0,l.jsx)(d,{open:t,handleClose:()=>i(!1)})]})}},143:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var l=t(5155);let a=e=>{let{address:s,height:t}=e,a=encodeURIComponent(s);return(0,l.jsxs)("div",{className:"",style:{textDecoration:"none",overflow:"hidden",maxWidth:"100%",height:t},children:[(0,l.jsx)("div",{id:"google-maps-display",style:{height:"100%",width:"100%",maxWidth:"100%"},children:(0,l.jsx)("iframe",{style:{height:"100%",width:"100%",border:"0"},frameBorder:"0",src:"https://www.google.com/maps/embed/v1/place?q=".concat(a,"&key=AIzaSyBFw0Qbyq9zTFTd-tUY6dZWTgaQzuU17R8"),allowFullScreen:!0})}),(0,l.jsx)("a",{className:"googlemaps-made",href:"https://www.bootstrapskins.com/themes",id:"auth-map-data"})]})}},8400:(e,s,t)=>{"use strict";t.d(s,{S:()=>i});var l=t(1094);let a=localStorage,i=(0,l.tG)("token",null,{getItem:e=>{var s;return null!==(s=null==a?void 0:a.getItem(e))&&void 0!==s?s:null},setItem:(e,s)=>null==a?void 0:a.setItem(e,s),removeItem:e=>null==a?void 0:a.removeItem(e)})},8931:(e,s,t)=>{"use strict";t.d(s,{Y:()=>l,f:()=>a});let l=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY MMMM DD",t=new Date(e);if(isNaN(t.getTime()))return"Invalid Date";let l=e=>e.toString().padStart(2,"0"),a={YYYY:t.getFullYear().toString(),MMMM:["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],MM:l(t.getMonth()+1),DD:l(t.getDate()),HH:l(t.getHours()),mm:l(t.getMinutes()),ss:l(t.getSeconds())};return s.replace(/YYYY|MMMM|MM|DD|HH|mm|ss/g,e=>a[e])},a=e=>{if(!e)return"";let s=new Date(e);return isNaN(s.getTime())?e:s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0})}}},e=>{var s=s=>e(e.s=s);e.O(0,[4928,6023,8173,2651,8441,1517,7358],()=>s(8041)),_N_E=e.O()}]);