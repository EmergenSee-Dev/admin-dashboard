(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8974],{4530:(e,t,s)=>{Promise.resolve().then(s.bind(s,9809))},9809:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(5155),l=s(2115),a=s(6046),n=s(4928),u=s(8400),o=s(2651);let d=()=>{let e=(0,a.useRouter)(),[t,s]=(0,l.useState)(""),[d,i]=(0,l.useState)(""),[m,c]=(0,l.useState)(!1),[b,h]=(0,l.useState)(""),[g,x]=(0,n.useAtom)(u.S),p=e=>{let t=e.replace(/\D/g,"");return t.startsWith("234")?t:t.startsWith("0")?"234"+t.slice(1):"234"+t},v=async s=>{if(s.preventDefault(),h(""),c(!0),!/^\d{10,15}$/.test(t)){h("Enter a valid phone number"),c(!1);return}if(d.length<6){h("Password must be at least 6 characters"),c(!1);return}try{let s=await o.A.post("https://backend-api-mxr6.onrender.com/auth/login",{phoneNumber:p(t),password:d});x(s.data.token),e.push("/dashboard")}catch(e){h(e.message)}finally{c(!1)}};return(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,r.jsxs)("div",{className:"w-full max-w-md p-6 bg-white rounded-xl shadow-md",children:[(0,r.jsx)("img",{src:"/images/emergensee4.png",className:"h-10 object-cover mx-auto",alt:"Logo"}),(0,r.jsx)("h2",{className:"text-2xl font-semibold text-center mb-6",children:"Login"}),b&&(0,r.jsx)("p",{className:"text-red-500 text-sm text-center mb-4",children:b}),(0,r.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),(0,r.jsx)("input",{type:"number",value:t,onChange:e=>s(e.target.value),placeholder:"Enter phone number",className:"w-full p-3 border rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,r.jsx)("input",{type:"password",value:d,onChange:e=>i(e.target.value),placeholder:"Enter password",className:"w-full p-3 border rounded-lg focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition",disabled:m,children:m?"Logging in...":"Login"})]})]})})}},8400:(e,t,s)=>{"use strict";s.d(t,{S:()=>a});var r=s(1094);let l=localStorage,a=(0,r.tG)("token",null,{getItem:e=>{var t;return null!==(t=null==l?void 0:l.getItem(e))&&void 0!==t?t:null},setItem:(e,t)=>null==l?void 0:l.setItem(e,t),removeItem:e=>null==l?void 0:l.removeItem(e)})}},e=>{var t=t=>e(e.s=t);e.O(0,[4928,6023,2651,8441,1517,7358],()=>t(4530)),_N_E=e.O()}]);