(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3831],{1036:(e,s,t)=>{Promise.resolve().then(t.bind(t,894))},894:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var l=t(5155),a=t(2115),r=t(2651),i=t(4919),n=t(6046);let c=()=>{let e=(0,n.useRouter)(),[s,t]=(0,a.useState)([]),[c,d]=(0,a.useState)(""),m=async()=>{try{let e=await r.A.get("https://backend-api-mxr6.onrender.com/api/blogs");t(e.data.data)}catch(e){console.error("Error fetching blogs:",e)}};(0,a.useEffect)(()=>{m()},[]);let o=s.filter(e=>e.title.toLowerCase().includes(c.toLowerCase())||e.content.toLowerCase().includes(c.toLowerCase())),x=s=>{e.push("/blog/new?id=".concat(s))},u=async e=>{try{await r.A.delete("https://backend-api-mxr6.onrender.com/api/blogs/".concat(e)),m()}catch(e){console.error("Error deleting blog:",e)}};return(0,l.jsx)(i.default,{children:(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4",children:[(0,l.jsx)("input",{type:"text",placeholder:"Search blogs...",value:c,onChange:e=>d(e.target.value),className:"border p-2 rounded-md w-full sm:max-w-md mb-3 sm:mb-0"}),(0,l.jsx)("button",{onClick:()=>{e.push("/blog/new")},className:"bg-blue-500 text-white px-4 py-2 rounded-md",children:"Create New Blog"})]}),(0,l.jsx)("div",{children:o.length>0?o.map(e=>(0,l.jsxs)("div",{className:"border rounded-md p-4 mb-4 flex flex-col md:flex-row md:items-center",children:[e.image&&(0,l.jsx)("img",{src:e.image,alt:e.title,className:"w-full md:w-48 h-32 object-cover rounded-md mb-3 md:mb-0 md:mr-4"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-2",children:e.title}),(0,l.jsx)("p",{className:"text-gray-600 mb-2",children:e.description.length>100?e.description.substring(0,100)+"...":e.description}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsx)("button",{onClick:()=>x(e._id),className:"bg-green-500 text-white px-3 py-1 rounded-md",children:"Edit"}),(0,l.jsx)("button",{onClick:()=>u(e._id),className:"bg-red-500 text-white px-3 py-1 rounded-md",children:"Delete"})]})]})]},e._id)):(0,l.jsx)("p",{className:"text-center py-6",children:"No blogs found."})})]})})}},4919:(e,s,t)=>{"use strict";t.d(s,{default:()=>x});var l=t(5155),a=t(2115),r=t(8173),i=t.n(r),n=t(6046);let c=()=>{let e=e=>{if((0,n.usePathname)()===e)return!0};return(0,l.jsxs)("div",{className:"h-screen",children:[(0,l.jsx)(i(),{href:"/dashboard",children:(0,l.jsx)("div",{className:"my-6 ".concat(e("/dashboard")&&"bg-[#FFCC00] p-3 rounded-xl"),children:(0,l.jsx)("p",{className:"uppercase text-[#3D5059] font-bold",children:"Dashboard"})})}),[{title:"users",link:"/users"},{title:"emergensees",link:"/emergensees"},{title:"logout",link:"/"}].map(s=>(0,l.jsx)(i(),{href:s.link,children:(0,l.jsxs)("div",{className:"flex my-5 px-3 ".concat(e(s.link)?"bg-[#FFCC00] p-3 rounded-xl":""),children:[(0,l.jsx)("img",{className:"mr-3 w-4 h-4 my-auto",src:"/images/icons/".concat(s.title,".svg"),alt:""}),(0,l.jsx)("p",{className:"capitalize font-medium",children:s.title})]})},s.title))]})},d=e=>{let{open:s,handleClose:t}=e;return s&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{onClick:()=>t(),className:"bg-[#2B2B2B57] cursor-pointer fixed top-16 backdrop-blur-sm w-screen h-screen"}),(0,l.jsxs)("div",{className:"absolute lg:w-[30%] w-[90%] top-20 right-4 bg-white p-4 rounded-xl",children:[(0,l.jsxs)("div",{className:"flex  justify-between mb-1",children:[(0,l.jsx)("p",{className:"text-[#9FA4A7] text-sm",children:"Notifications"}),(0,l.jsx)("p",{className:"text-[#3688FF] text-sm",children:"See all"})]}),[1,2,3].map(e=>(0,l.jsx)("div",{className:"py-3 border-b border-[#ABB3B7]",children:(0,l.jsxs)("div",{className:"bg-[#D7D7D833] rounded-md p-2 flex",children:[(0,l.jsx)("img",{className:"my-auto",src:"/images/scheduler.png",alt:""}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("p",{className:"text-[#0E4BF1] font-medium text-sm",children:"New Emergency"}),(0,l.jsx)("p",{className:"text-xs",children:"Burn incident at Lekki"}),(0,l.jsx)("p",{className:"text-xs",children:"Tuesday, June 14, 2024 18:16:1"})]})]})}))]})]})};var m=t(4928),o=t(8400);let x=e=>{let{children:s}=e,[t,r]=(0,a.useState)(!1),i=(0,n.useRouter)(),[x,u]=(0,a.useState)(!1),[h,p]=(0,m.useAtom)(o.S);return(0,a.useEffect)(()=>{let e=setTimeout(()=>{h||i.replace("/")},1e3);return()=>clearTimeout(e)},[h,i]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("header",{className:"p-3 flex items-center fixed top-0 w-full bg-white shadow-md z-50",children:[(0,l.jsx)("img",{src:"/images/emergensee4.png",className:"h-10 object-cover",alt:"Logo"}),(0,l.jsxs)("div",{className:"ml-auto flex items-center gap-4",children:[(0,l.jsx)("img",{className:"w-10 h-10 cursor-pointer md:hidden",onClick:()=>u(!x),src:"/images/menu.svg",alt:"Menu"}),(0,l.jsx)("img",{className:"w-10 h-10 cursor-pointer",onClick:()=>r(!t),src:"/images/notification.png",alt:"Notifications"})]})]}),(0,l.jsxs)("div",{className:"flex flex-col md:flex-row p-3 mt-16",children:[(0,l.jsx)("div",{className:"fixed p-4 left-0 lg:w-[23%] bg-white shadow-lg transform transition-transform duration-300 ease-in-out\n            ".concat(x?"translate-x-0":"-translate-x-full"," md:translate-x-0 md:static"),children:(0,l.jsx)(c,{})}),(0,l.jsx)("div",{className:"w-full lg:px-3",children:s})]}),(0,l.jsx)(d,{open:t,handleClose:()=>r(!1)})]})}},8400:(e,s,t)=>{"use strict";t.d(s,{S:()=>r});var l=t(1094);let a=localStorage,r=(0,l.tG)("token",null,{getItem:e=>{var s;return null!==(s=null==a?void 0:a.getItem(e))&&void 0!==s?s:null},setItem:(e,s)=>null==a?void 0:a.setItem(e,s),removeItem:e=>null==a?void 0:a.removeItem(e)})}},e=>{var s=s=>e(e.s=s);e.O(0,[4928,6023,8173,2651,8441,1517,7358],()=>s(1036)),_N_E=e.O()}]);