(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5009],{6798:(e,s,t)=>{Promise.resolve().then(t.bind(t,6399))},6399:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var l=t(5155),r=t(4919),a=t(8931),i=t(8173),n=t.n(i),d=t(2115);let c=e=>{let{data:s,onDelete:t}=e;return(0,l.jsxs)("div",{className:" border-b border-[#DFDFDF] lg:flex justify-between py-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"flex",children:(0,l.jsx)("p",{className:"font-medium my-auto text-lg text-[#3D5059]",children:s.name})}),(0,l.jsx)("div",{className:"flex text-sm text-[#9FA4A7] ",children:(0,l.jsx)("p",{className:"font-medium",children:s&&(0,a.Y)(new Date(s.createdAt))})})]}),(0,l.jsxs)("div",{className:"my-auto sm:flex sm:mt-2",children:[(0,l.jsx)(n(),{href:"/users/uploads/single?id=".concat(s._id),children:(0,l.jsx)("button",{className:"bg-[#DBE6FF] text-[#2764E7] p-2 w-32 my-auto rounded-full lg:ml-4 text-sm",children:"View Records"})}),(0,l.jsx)(n(),{href:"/users/single/?id=".concat(s._id),children:(0,l.jsx)("button",{className:"bg-[#DDC2E6] text-[#671C73] p-2 w-32 my-auto rounded-full ml-4 text-sm",children:"View Profile"})}),t&&(0,l.jsx)("button",{className:"bg-red-500 text-white p-2 w-32 my-auto rounded-full ml-4 text-sm",onClick:()=>t(s._id),children:"Delete"})]})]})};var m=t(2651);let o=()=>{let[e,s]=(0,d.useState)([]),t=async()=>{s((await m.A.get("https://backend-api-mxr6.onrender.com/api/users")).data.data.reverse())},a=async e=>{if(window.confirm("Are you sure you want to delete this user?"))try{await m.A.delete("https://backend-api-mxr6.onrender.com/api/user/".concat(e)),s(s=>s.filter(s=>s._id!==e)),alert("User deleted successfully.")}catch(e){console.error("Failed to delete user:",e),alert("Failed to delete user. Please try again.")}};return(0,d.useEffect)(()=>{t()},[]),(0,l.jsx)(r.default,{children:(0,l.jsxs)("div",{className:"p-4 bg-white rounded-xl",children:[(0,l.jsx)("input",{type:"text",placeholder:"Search",className:"p-3 bg-[#EFEFEF] rounded-md lg:w-1/2 w-full"}),(0,l.jsxs)("div",{className:"mt-8 p-4 rounded-md border border-[#D2D2D2]",children:[(0,l.jsxs)("div",{className:"flex justify-between border-b border-[#DFDFDF] py-2",children:[(0,l.jsx)("p",{className:"uppercase font-bold",children:"All users"}),(0,l.jsxs)("p",{className:"font-medium",children:[e.length,"  USERS"]})]}),(0,l.jsx)("div",{children:e.length>=1?e.map(e=>(0,l.jsx)(c,{data:e,onDelete:a},e._id)):null})]})]})})}},4919:(e,s,t)=>{"use strict";t.d(s,{default:()=>u});var l=t(5155),r=t(2115),a=t(8173),i=t.n(a),n=t(6046);let d=()=>{let e=e=>{if((0,n.usePathname)()===e)return!0};return(0,l.jsxs)("div",{className:"h-screen",children:[(0,l.jsx)(i(),{href:"/dashboard",children:(0,l.jsx)("div",{className:"my-6 ".concat(e("/dashboard")&&"bg-[#FFCC00] p-3 rounded-xl"),children:(0,l.jsx)("p",{className:"uppercase text-[#3D5059] font-bold",children:"Dashboard"})})}),[{title:"users",link:"/users"},{title:"emergensees",link:"/emergensees"},{title:"logout",link:"/"}].map(s=>(0,l.jsx)(i(),{href:s.link,children:(0,l.jsxs)("div",{className:"flex my-5 px-3 ".concat(e(s.link)?"bg-[#FFCC00] p-3 rounded-xl":""),children:[(0,l.jsx)("img",{className:"mr-3 w-4 h-4 my-auto",src:"/images/icons/".concat(s.title,".svg"),alt:""}),(0,l.jsx)("p",{className:"capitalize font-medium",children:s.title})]})},s.title))]})},c=e=>{let{open:s,handleClose:t}=e;return s&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{onClick:()=>t(),className:"bg-[#2B2B2B57] cursor-pointer fixed top-16 backdrop-blur-sm w-screen h-screen"}),(0,l.jsxs)("div",{className:"absolute lg:w-[30%] w-[90%] top-20 right-4 bg-white p-4 rounded-xl",children:[(0,l.jsxs)("div",{className:"flex  justify-between mb-1",children:[(0,l.jsx)("p",{className:"text-[#9FA4A7] text-sm",children:"Notifications"}),(0,l.jsx)("p",{className:"text-[#3688FF] text-sm",children:"See all"})]}),[1,2,3].map(e=>(0,l.jsx)("div",{className:"py-3 border-b border-[#ABB3B7]",children:(0,l.jsxs)("div",{className:"bg-[#D7D7D833] rounded-md p-2 flex",children:[(0,l.jsx)("img",{className:"my-auto",src:"/images/scheduler.png",alt:""}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("p",{className:"text-[#0E4BF1] font-medium text-sm",children:"New Emergency"}),(0,l.jsx)("p",{className:"text-xs",children:"Burn incident at Lekki"}),(0,l.jsx)("p",{className:"text-xs",children:"Tuesday, June 14, 2024 18:16:1"})]})]})}))]})]})};var m=t(4928),o=t(8400);let u=e=>{let{children:s}=e,[t,a]=(0,r.useState)(!1),i=(0,n.useRouter)(),[u,x]=(0,r.useState)(!1),[h,g]=(0,m.useAtom)(o.S);return(0,r.useEffect)(()=>{let e=setTimeout(()=>{h||i.replace("/")},1e3);return()=>clearTimeout(e)},[h,i]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("header",{className:"p-3 flex items-center fixed top-0 w-full bg-white shadow-md z-50",children:[(0,l.jsx)("img",{src:"/images/emergensee4.png",className:"h-10 object-cover",alt:"Logo"}),(0,l.jsxs)("div",{className:"ml-auto flex items-center gap-4",children:[(0,l.jsx)("img",{className:"w-10 h-10 cursor-pointer md:hidden",onClick:()=>x(!u),src:"/images/menu.svg",alt:"Menu"}),(0,l.jsx)("img",{className:"w-10 h-10 cursor-pointer",onClick:()=>a(!t),src:"/images/notification.png",alt:"Notifications"})]})]}),(0,l.jsxs)("div",{className:"flex flex-col md:flex-row p-3 mt-16",children:[(0,l.jsx)("div",{className:"fixed p-4 left-0 lg:w-[23%] bg-white shadow-lg transform transition-transform duration-300 ease-in-out\n            ".concat(u?"translate-x-0":"-translate-x-full"," md:translate-x-0 md:static"),children:(0,l.jsx)(d,{})}),(0,l.jsx)("div",{className:"w-full lg:px-3",children:s})]}),(0,l.jsx)(c,{open:t,handleClose:()=>a(!1)})]})}},8400:(e,s,t)=>{"use strict";t.d(s,{S:()=>a});var l=t(1094);let r=localStorage,a=(0,l.tG)("token",null,{getItem:e=>{var s;return null!==(s=null==r?void 0:r.getItem(e))&&void 0!==s?s:null},setItem:(e,s)=>null==r?void 0:r.setItem(e,s),removeItem:e=>null==r?void 0:r.removeItem(e)})},8931:(e,s,t)=>{"use strict";t.d(s,{Y:()=>l,f:()=>r});let l=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY MMMM DD",t=new Date(e);if(isNaN(t.getTime()))return"Invalid Date";let l=e=>e.toString().padStart(2,"0"),r={YYYY:t.getFullYear().toString(),MMMM:["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],MM:l(t.getMonth()+1),DD:l(t.getDate()),HH:l(t.getHours()),mm:l(t.getMinutes()),ss:l(t.getSeconds())};return s.replace(/YYYY|MMMM|MM|DD|HH|mm|ss/g,e=>r[e])},r=e=>{if(!e)return"";let s=new Date(e);return isNaN(s.getTime())?e:s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0})}}},e=>{var s=s=>e(e.s=s);e.O(0,[4928,6023,8173,2651,8441,1517,7358],()=>s(6798)),_N_E=e.O()}]);