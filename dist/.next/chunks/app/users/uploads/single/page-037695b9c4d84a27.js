(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7965],{1762:(e,s,t)=>{Promise.resolve().then(t.bind(t,908))},908:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var a=t(5155),l=t(1521),r=t(4919),i=t(4316),n=t(2651),d=t(6046),c=t(2115);let o=()=>{let[e,s]=(0,c.useState)("all"),[t,r]=(0,c.useState)([]),o=(0,d.useSearchParams)().get("id"),m=async()=>{r((await n.A.get("https://backend-api-mxr6.onrender.com/api/emergensee/user/".concat(o))).data.data)};return(0,c.useEffect)(()=>{m()},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.A,{}),(0,a.jsxs)("section",{className:"bg-white rounded-xl p-4 mt-4",children:[(0,a.jsx)("div",{className:"flex w-full",children:(0,a.jsx)("input",{type:"text",placeholder:"Search",className:"bg-[#EFEFEF] p-3 rounded-md w-72"})}),t.length>=1&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex justify-between border-b border-[#DFDFDF] py-6",children:[(0,a.jsxs)("p",{className:"uppercase font-bold",children:[t[0].author.name,"  UPLOADS"]}),(0,a.jsxs)("p",{className:"font-medium",children:[t.length,"  UPLOADS"]})]}),t.map(e=>(0,a.jsx)(l.A,{data:e},e._id))]})]})]})},m=()=>(0,a.jsx)(r.default,{children:(0,a.jsx)(c.Suspense,{fallback:(0,a.jsx)("p",{className:"text-gray-600 text-center py-4",children:"Loading..."}),children:(0,a.jsx)(o,{})})})},337:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var a=t(5155);t(2115);let l=e=>{let{type:s}=e;return(0,a.jsx)("div",{children:(0,a.jsxs)("button",{className:"p-2 rounded-full capitalize text-white ml-4 text-sm ".concat("fall"===s?"bg-[#1AA029]":"assault"===s?"bg-[#F57E43]":"burn"===s?"bg-[#A01A1A]":"motor vehicle"===s?"bg-[#2764E7]":"others"===s?"bg-[#671C73]":""),children:[s," Update"]})})}},1521:(e,s,t)=>{"use strict";t.d(s,{A:()=>d});var a=t(5155),l=t(8931),r=t(8173),i=t.n(r);t(2115);var n=t(337);let d=e=>{var s;let{data:t}=e,r=async()=>{if(window.confirm("Are you sure you want to delete this record?"))try{if(!(await fetch("https://backend-api-mxr6.onrender.com/api/emergensee/".concat(null==t?void 0:t._id),{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok)throw Error("Failed to delete Emergensee record.");alert("Emergensee deleted successfully!"),window.location.reload()}catch(e){console.error("Error deleting Emergensee:",e),alert("Error deleting Emergensee. Please try again.")}};return(0,a.jsxs)("div",{className:"border-b border-[#DFDFDF] py-2 lg:flex justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex sm:justify-between",children:[(0,a.jsx)("p",{className:"font-medium my-auto text-lg capitalize text-[#3D5059]",children:null==t?void 0:t.name}),(0,a.jsx)(n.A,{type:null==t?void 0:t.type})]}),(0,a.jsxs)("div",{className:"flex text-[#9FA4A7] ",children:[(0,a.jsx)("p",{children:null==t?void 0:null===(s=t.author)||void 0===s?void 0:s.name}),(0,a.jsx)("p",{className:"font-medium ml-2",children:(0,l.Y)(new Date(null==t?void 0:t.createdAt))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i(),{href:"/emergensees/single?id=".concat(null==t?void 0:t._id),children:(0,a.jsx)("button",{className:"bg-[#66B5FF33] text-[#3688FF] sm:mt-3 p-2 px-6 my-auto",children:"View upload"})}),(0,a.jsx)("button",{className:"p-3 my-auto",onClick:()=>r(),children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-trash-fill",viewBox:"0 0 16 16",children:(0,a.jsx)("path",{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5M8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5m3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0"})})})]})]})}},4919:(e,s,t)=>{"use strict";t.d(s,{default:()=>u});var a=t(5155),l=t(2115),r=t(8173),i=t.n(r),n=t(6046);let d=()=>{let e=e=>{if((0,n.usePathname)()===e)return!0};return(0,a.jsxs)("div",{className:"h-screen",children:[(0,a.jsx)(i(),{href:"/dashboard",children:(0,a.jsx)("div",{className:"my-6 ".concat(e("/dashboard")&&"bg-[#FFCC00] p-3 rounded-xl"),children:(0,a.jsx)("p",{className:"uppercase text-[#3D5059] font-bold",children:"Dashboard"})})}),[{title:"users",link:"/users"},{title:"emergensees",link:"/emergensees"},{title:"logout",link:"/"}].map(s=>(0,a.jsx)(i(),{href:s.link,children:(0,a.jsxs)("div",{className:"flex my-5 px-3 ".concat(e(s.link)?"bg-[#FFCC00] p-3 rounded-xl":""),children:[(0,a.jsx)("img",{className:"mr-3 w-4 h-4 my-auto",src:"/images/icons/".concat(s.title,".svg"),alt:""}),(0,a.jsx)("p",{className:"capitalize font-medium",children:s.title})]})},s.title))]})},c=e=>{let{open:s,handleClose:t}=e;return s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{onClick:()=>t(),className:"bg-[#2B2B2B57] cursor-pointer fixed top-16 backdrop-blur-sm w-screen h-screen"}),(0,a.jsxs)("div",{className:"absolute lg:w-[30%] w-[90%] top-20 right-4 bg-white p-4 rounded-xl",children:[(0,a.jsxs)("div",{className:"flex  justify-between mb-1",children:[(0,a.jsx)("p",{className:"text-[#9FA4A7] text-sm",children:"Notifications"}),(0,a.jsx)("p",{className:"text-[#3688FF] text-sm",children:"See all"})]}),[1,2,3].map(e=>(0,a.jsx)("div",{className:"py-3 border-b border-[#ABB3B7]",children:(0,a.jsxs)("div",{className:"bg-[#D7D7D833] rounded-md p-2 flex",children:[(0,a.jsx)("img",{className:"my-auto",src:"/images/scheduler.png",alt:""}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("p",{className:"text-[#0E4BF1] font-medium text-sm",children:"New Emergency"}),(0,a.jsx)("p",{className:"text-xs",children:"Burn incident at Lekki"}),(0,a.jsx)("p",{className:"text-xs",children:"Tuesday, June 14, 2024 18:16:1"})]})]})}))]})]})};var o=t(4928),m=t(8400);let u=e=>{let{children:s}=e,[t,r]=(0,l.useState)(!1),i=(0,n.useRouter)(),[u,h]=(0,l.useState)(!1),[x,g]=(0,o.useAtom)(m.S);return(0,l.useEffect)(()=>{let e=setTimeout(()=>{x||i.replace("/")},1e3);return()=>clearTimeout(e)},[x,i]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("header",{className:"p-3 flex items-center fixed top-0 w-full bg-white shadow-md z-50",children:[(0,a.jsx)("img",{src:"/images/emergensee4.png",className:"h-10 object-cover",alt:"Logo"}),(0,a.jsxs)("div",{className:"ml-auto flex items-center gap-4",children:[(0,a.jsx)("img",{className:"w-10 h-10 cursor-pointer md:hidden",onClick:()=>h(!u),src:"/images/menu.svg",alt:"Menu"}),(0,a.jsx)("img",{className:"w-10 h-10 cursor-pointer",onClick:()=>r(!t),src:"/images/notification.png",alt:"Notifications"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row p-3 mt-16",children:[(0,a.jsx)("div",{className:"fixed p-4 left-0 lg:w-[23%] bg-white shadow-lg transform transition-transform duration-300 ease-in-out\n            ".concat(u?"translate-x-0":"-translate-x-full"," md:translate-x-0 md:static"),children:(0,a.jsx)(d,{})}),(0,a.jsx)("div",{className:"w-full lg:px-3",children:s})]}),(0,a.jsx)(c,{open:t,handleClose:()=>r(!1)})]})}},4316:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});var a=t(5155),l=t(2651),r=t(2115);let i=()=>{let[e,s]=(0,r.useState)([null]),[t,i]=(0,r.useState)([]),n=async()=>{s((await l.A.get("https://backend-api-mxr6.onrender.com/api/emergensee/all")).data.data)},d=async()=>{i((await l.A.get("https://backend-api-mxr6.onrender.com/api/users")).data.data)};return(0,r.useEffect)(()=>{n(),d()},[]),(0,a.jsxs)("section",{className:"grid lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white flex justify-between rounded-xl p-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[#879297]",children:"Total number  of mobile users"}),(0,a.jsx)("h1",{className:"text-3xl font-bold",children:null==t?void 0:t.length})]}),(0,a.jsx)("div",{className:"bg-[#66B5FF33] my-auto p-4 rounded-md text-[#3688FF]",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",className:"bi bi-people",viewBox:"0 0 16 16",children:(0,a.jsx)("path",{d:"M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1zm-7.978-1L7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002-.014.002zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0M6.936 9.28a6 6 0 0 0-1.23-.247A7 7 0 0 0 5 9c-4 0-5 3-5 4q0 1 1 1h4.216A2.24 2.24 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816M4.92 10A5.5 5.5 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0m3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4"})})})]}),(0,a.jsxs)("div",{className:"bg-white flex justify-between rounded-xl p-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[#879297]",children:"Total number of Submissions"}),(0,a.jsx)("h1",{className:"text-3xl font-bold",children:null==e?void 0:e.length})]}),(0,a.jsx)("div",{className:"bg-[#671C7333] p-4 my-auto rounded-md text-[#671C73]",children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",className:"bi bi-file-bar-graph",viewBox:"0 0 16 16",children:[(0,a.jsx)("path",{d:"M4.5 12a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5zm3 0a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5zm3 0a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5z"}),(0,a.jsx)("path",{d:"M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1"})]})})]})]})}},8400:(e,s,t)=>{"use strict";t.d(s,{S:()=>r});var a=t(1094);let l=localStorage,r=(0,a.tG)("token",null,{getItem:e=>{var s;return null!==(s=null==l?void 0:l.getItem(e))&&void 0!==s?s:null},setItem:(e,s)=>null==l?void 0:l.setItem(e,s),removeItem:e=>null==l?void 0:l.removeItem(e)})},8931:(e,s,t)=>{"use strict";t.d(s,{Y:()=>a,f:()=>l});let a=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY MMMM DD",t=new Date(e);if(isNaN(t.getTime()))return"Invalid Date";let a=e=>e.toString().padStart(2,"0"),l={YYYY:t.getFullYear().toString(),MMMM:["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],MM:a(t.getMonth()+1),DD:a(t.getDate()),HH:a(t.getHours()),mm:a(t.getMinutes()),ss:a(t.getSeconds())};return s.replace(/YYYY|MMMM|MM|DD|HH|mm|ss/g,e=>l[e])},l=e=>{if(!e)return"";let s=new Date(e);return isNaN(s.getTime())?e:s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0})}}},e=>{var s=s=>e(e.s=s);e.O(0,[4928,6023,8173,2651,8441,1517,7358],()=>s(1762)),_N_E=e.O()}]);